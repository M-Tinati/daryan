{% extends "base.html" %}
{% block title %}ثبت سفارش{% endblock %}

{% block content %}
<section class="container mx-auto my-12 px-4 max-w-3xl animate-fadeIn">
  <div class="bg-white shadow-xl rounded-2xl p-6 sm:p-8 md:p-10 hover:shadow-2xl transition-shadow duration-300 ease-in-out border border-gray-100">
    <h2 class="text-3xl md:text-4xl font-bold mb-8 text-blue-700 text-center drop-shadow-lg animate-slideUp">
      ثبت سفارش {{ product.name }}
    </h2>
    <form method="post" class="space-y-6">
      {% csrf_token %}

      <!-- تعداد -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">تعداد</label>
        <div class="relative">
          {{ form.quantity }}
          {% if form.quantity.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.quantity.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <!-- متراژ -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">متراژ (متر)</label>
        <div class="relative">
          {{ form.length }}
          {% if form.length.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.length.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <!-- نام و نام خانوادگی -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">نام و نام خانوادگی</label>
        <div class="relative">
          {{ form.full_name }}
          {% if form.full_name.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.full_name.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <!-- شماره تلفن -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">شماره تلفن</label>
        <div class="relative">
          {{ form.phone }}
          {% if form.phone.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.phone.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <!-- کد ملی -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">کد ملی</label>
        <div class="relative">
          {{ form.national_code }}
          {% if form.national_code.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.national_code.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <!-- آدرس -->
      <div class="relative">
        <label class="block font-medium text-gray-700 mb-2">آدرس</label>
        <div class="relative">
          {{ form.address }}
          {% if form.address.errors %}
            <p class="text-red-500 text-xs mt-1">{{ form.address.errors|first }}</p>
          {% endif %}
        </div>
      </div>

      <button type="submit" class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-900 transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
        ثبت سفارش
      </button>
    </form>
  </div>
</section>

<style>
  /* انیمیشن‌های سفارشی */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .animate-fadeIn {
    animation: fadeIn 1s ease-in-out;
  }

  @keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  .animate-slideUp {
    animation: slideUp 0.5s ease-out;
  }

  /* استایل‌های فرم */
  input, textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    background-color: #f9fafb;
    transition: all 0.3s ease;
  }

  input:focus, textarea:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background-color: #fff;
  }

  /* استایل خطاها */
  .text-red-500 {
    animation: shake 0.3s ease-in-out;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25%, 75% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
  }

  /* ریسپانسیو برای موبایل، تبلت و دسکتاپ بزرگ */
  @media (max-width: 640px) { /* موبایل */
    .container { max-width: 100%; }
    h2 { font-size: 2rem; }
    .p-6 { padding: 1rem; }
    input, textarea { font-size: 0.875rem; }
    button { font-size: 0.9rem; }
  }

  @media (min-width: 641px) and (max-width: 1024px) { /* آیپد/تبلت */
    .container { max-width: 90%; }
    h2 { font-size: 2.5rem; }
    .p-8 { padding: 1.5rem; }
  }

  @media (min-width: 1280px) { /* صفحه‌های بزرگ‌تر از دسکتاپ */
    .container { max-width: 4xl; }
    h2 { font-size: 3.5rem; }
    .p-10 { padding: 2rem; }
  }
</style>
{% endblock %}